name: trailing_whitespace_check
on: push
jobs:
  trailing_whitespace_check:
    runs-on: ubuntu-latest
    steps:
      - name: Check out branch source
        uses: actions/checkout@v4

      - name: Check .rs files for trailing whitespace
        run: >
          find . -name '*.rs' -print0 | xargs -0 grep -c '[ \t]$'
          | perl -e 'while(<>){print;$n+=1};if($n){exit 1}else{print "PASS\n"}'
